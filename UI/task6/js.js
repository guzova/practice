var data = (function () {
    var articles = [{
        "id": "1490276250638",
        "title": "Всплеск эмоций в полете танца: чувственные рисунки прекрасных балерин",
        "summary": "Искусство — самый идеальный способ выразить свои эмоции. Ведь иногда мы не можем сказать словами то, что мы чувствуем. ",
        "createdAt": "2017-03-23T13:40:22.986Z",
        "author": "Ilya",
        "content": "Искусство — самый идеальный способ выразить свои эмоции. Ведь иногда мы не можем сказать словами то, что мы чувствуем. \n\nНесмотря на то, что мы все такие разные, мы еще и очень похожи. У всех бывают страхи, печали, проблемы и переживания. Но пока вы можете выплеснуть свои эмоции, рассказать о них миру, не все еще потеряно. Не нужно быть суперталантливым, чтобы творить. Просто наслаждайтесь самим процессом. \n\nСегодня мы хотим, чтобы вы взглянули на работы Марты Грахам, на то, как она выражает свое мироощущение посредством рисунка, изображая балерин в танце и их эмоции.",
        "tags": ["nice"],
        "image": "https://img-s3.onedio.com/id-58d26282484057010f9de64c/rev-0/w-635/listing/f-jpg-webp/s-d16df6a332e05c99fd3e11367ac5b85a7275f85b.webp"
    }, {
        "id": "1490277579983",
        "title": "То, как ты относишься к жизни, либо продлевает ее, либо укорачивает.",
        "summary": " Накануне  приезда в Минск Раиса Рязанова дала эксклюзивное интервью для LADY. О весне, о любви, любимых ролях и вечных ценностях мы беседуем сегодня с Раисой Рязановой.\n",
        "createdAt": "2017-03-23T13:59:39.983Z",
        "author": "dashulia_guzova",
        "content": "— Я с нетерпением жду встречи с Минском и минчанами. Мне уже доводилось бывать и в столице Беларуси, и в городе Бресте. От республики у меня остались самые теплые воспоминания.\nМинск… Было ощущение, что приехала в самый чистый город на земле. Меня поразили аккуратность, просторные широкие улицы и отношению людей к своему городу. В Москве всегда проблема с парковками. На мой вопрос, где же машины ставят минчане, мне рассказали, что у вас такой проблемы нет — существуют правила, и их стараются выполнять все.\n— От Минска ждете новых эмоций, весны?\n— И весны, и встречи со зрителями, конечно, жду. Мне Минск еще запомнился особым теплом — у вас всегда такой дружеский прием: много цветов, подарочки маленькие приносят зрители. Это не совсем обычно для нас, актеров, но чрезвычайно приятно.\n— Раиса Ивановна, на вашем счету сотни великолепно сыгранных ролей. Говорят, что все маленькие девочки мечтают стать актрисами, повторяя и копируя героинь известных фильмов. Стать актрисой — ваша детская мечта?\n— Да нет, не было у меня такой мечты… И не могло ее быть у простой девочки (с улыбкой). Всего лишь случай и первая любовь сыграли роль в моей жизни. Я окончила Рязанское музыкальное училище и начала преподавать в Доме учителя. Напротив располагалась библиотека. Мы с библиотекаршей подружились, она была немного постарше, но одного века со мной человек. Библиотекарь мне давала почитать журнал «Советский экран». Всегда свежий, с пылу с жару… Однажды прочла там статью об актерской профессии, она меня так выбила эта статья, что я решила: обязательно попробую. А тут еще попала в Рязанский драмтеатр, на «Ромео и Джульетту». И влюбилась…",
        "tags": ["life"],
        "image": "https://img.tyt.by/620x620s/n/lady.tut.by/00/d/larisaryazanova_004.jpg"
    }, {
        "id": "1490277741144",
        "title": "Black tie – строчка в пригласительном или регламент",
        "summary": "Мы решили пофантазировать, что можно надеть на пафосный гала-ужин от итальянских поваров с тремя звездами Miсhelin и заглянули в сервис аренды вечерних платьев Oh My Look!",
        "createdAt": "2017-03-23T14:02:21.144Z",
        "author": "dashulia_guzova",
        "content": "Дресс-код на мероприятиях до сих пор вызывает смешанные чувства – от подозрения и сомнения до волнения и нерешимости. Такими выходят и образы: в театр приходят в джинсах, выпускные превращаются в дефиле платьев из штор, и любимое – колготки под босоножки на события, где от вас ждут Black Tie. Если вы собираетесь на такой вечер, а в Минске они начали появляться, эти советы для вас. Мы решили пофантазировать, что можно надеть на пафосный гала-ужин от итальянских поваров с тремя звездами Miсhelin и заглянули в сервис аренды вечерних платьев Oh My Look!\nBlack Tie – официальный и торжественный дресс-код. Это стиль свадеб, праздничных приёмов или театральных премьер. Женщинам на такие мероприятия выбирать только длинные вечерние платья либо, в зависимости от степени торжественности события, коктейльные платья не выше колена. Оставьте дома ультрамодные платья японских дизайнеров, вычурные решения, архитектурные формы и наряды кислотных цветов. Сделайте упор на классику: атласная ткань, черно-белое сочетание цветов, мягкие драпировки, подчеркнутая талия.\nЭлегантное черное платье в пол с открытой спиной сочетает в себе женственность, строгость и загадку.",
        "tags": ["nice"],
        "image": "https://img.tyt.by/720x720s/n/lady.tut.by/02/e/mishlenplatiya_27_.jpg"
    }, {
        "id": "1490278140800",
        "title": "Киберспортсмен пробил головой монитор после поражения в игре",
        "summary": "После проигранного матча игрок League of Legends со злости разбил монитор. Причем сделал он это своей головой.\n",
        "createdAt": "2017-03-23T14:09:00.801Z",
        "author": "bah",
        "content": "После проигранного матча игрок League of Legends со злости разбил монитор. Причем сделал он это своей головой. Случай произошел в одном из компьютерных клубов китайского города Ланьчжоу, пишет Kotaku.\n\nСообщается, что молодой человек был вне себя от плохой игры товарищей по команде, что и привело к необычному инциденту. И пока остальные посетители кафе делали фото неудачливого игрока, персонал интернет-кафе помогал ему достать голову из монитора.",
        "tags": ["lol"],
        "image": "https://img.tyt.by/720x720s/n/it/0d/4/euewk62czbiq6savo0lp.jpg"
    }, {
        "id": "1490278465736",
        "title": "\"Героиня нашего времени\": как борисовчанка стала лучшей в мире танцовщицей на коляскаx.",
        "summary": "Танцы на колясках изобрели британцы в конце 1960-х для реабилитации людей с инвалидностью.В Беларуси этот вид спорта появился 20 лет назад.\n",
        "createdAt": "2017-03-25T16:18:34.191Z",
        "author": "Ilya",
        "content": "Танцы на колясках изобрели британцы в конце 1960-х для реабилитации людей с инвалидностью. Спустя десятилетие в Швеции прошли первые международные соревнования, а в 2000-м спортивные танцы на колясках включили в программу Паралимпиады.\nВ Беларуси этот вид спорта появился 20 лет назад. Успехи нашей страны в соревнованиях связаны с пионеркой спортивного движения – Анной Горчаковой – действующей чемпионкой мира и Европы по спортивным танцам на колясках.Анна Горчакова – активная, веселая и умная женщина, по образованию психолог. Она родилась с врожденным заболеванием позвоночника.\n",
        "tags": ["life"],
        "image": "https://img.tyt.by/720x720s/n/lady.tut.by/05/b/borisovchanka_tancovshi_001.jpg"
    }, {
        "id": "1490278672234",
        "title": "Белорусская мода - это поиски компромиссов",
        "summary": "Цикл проекта «Мода для народа»в поиске лучшего образа в офис от белорусских дизайнеров, подошел к логическому завершению\n",
        "createdAt": "2017-03-23T14:17:52.234Z",
        "author": "bah",
        "content": "— Говорим «Париж» — первая ассоциация «Шанель», говорим «Америка» — «Майкл Корс», «Италия» — «Гуччи» … Что отличает белорусскую моду? Есть ли у нас если уж не мирового уровня бренд, то сравнительно яркая ассоциация?\n— Нашу моду отличает некоторая этничность. Многие дизайнеры пробуют вносить в новые формы, новые решения что-то из традиционного белорусского костюма. О чем речь — ну, естественно, сразу на ум приходят вышиванки. Хотя этот тренд мало кто исполнил качественно и достойно. Сегодня вышиванка в гардеробе имеет право на жизнь, если она выполнена качественно и добротно, вручную вышита, например, как раньше. Но если просто скопировать со старой сорочки орнамент — это не мода. Можно этот узор интерпретировать, интегрировать в какой-то новый принт — вот тогда речь уже может идти о моде и дизайне. Dolce & Gabbana не так давно в своей коллекции вышили украинские мотивы крестиком вручную — приняли отлично! Вот, нам надо равняться. Тогда и страну нашу можно будет идентифицировать в глобальной fashion-индустрии. В остальном — вышиванка у нас, скорее, скоротечный тренд. Хорошо, что люди обращаются к традициям, к истории, жаль, что в вещах такого качества. Все эти маечки с отпечатанными узорами никак не назовешь предметом модной одежды.\n— Вы сейчас расстроили каждого третьего белоруса, сделавшего селфи в майке-вышиванке…\n — Это хороший подарок — купите друзьям за границу как сувенир. А тут это носить не стоит.\n— Белорусская мода еще очень молодая! Ей надо еще расти, набираться сил, развиваться. Что она и делает. Пока у нас явный дефицит в высокой моде. Когда каждая пуговица пришита руками, каждая бусинка, каждый шов отслеживает лично дизайнер. Надеюсь, скоро наш рынок будет готов к такой моде… Хотя, может, понадобятся годы, десятки лет. Но хочется верить, мы застанем это время. А талантов у нас много. Они еще проявят себя. По нашему опыту — кутюрные вещи могут пользоваться спросом. Когда мы отшивали такую коллекцию, делали скорее подиумные модели, для показа. Было даже неожиданно, что нас сразу накрыла волна звонков «как и где это купить?». И раскупили! Хотя такие яркие вещи явно «выйдут в свет» всего пару раз, очень уж много они на себя берут внимания.",
        "tags": ["fashion"],
        "image": "https://img.tyt.by/620x620s/n/lady.tut.by/07/9/vyshivanku_kupite_druzyam_001.jpg"
    }, {
        "id": "1490350409655",
        "title": "6 странных причин влюблённости",
        "summary": "6 странных причин влюблённости докажут вам, что это чувство — чистая психология",
        "createdAt": "2017-03-25T16:33:34.028Z",
        "author": "Ilya",
        "content": "1. У вас необычный тембр голоса.\nНизкий и грубый женский голос, например, вызывает у многих мужчин симпатию.\n 2. Вы пристально смотрели друг другу в глаза в течение нескольких минут.\nВ таком случае даже между едва знакомыми людьми может появиться чувство страстной любви и даже привязанности.\n 3. Вы \"подогреваете\" свидание.\nЕсли свидание проходит за чашечкой горячего кофе или чая, то вы автоматически начинаете относиться к собеседнику более душевно и доверительно.\n 4. Он (она) не понравились вам при первой встрече.\nВы ведь знаете, что первое впечатление может быть обманчивым?\n 5. Вы носите красное.\nЖенщины, предпочитающие красный, более успешны в искусстве флирта, а также этот цвет является показателем статуса.\n 6. У вас на лице присутствует щетина.\nМужчин со щетиной женщины считают более привлекательными и брутальными.",
        "tags": ["love"],
        "image": "https://img-s3.onedio.com/id-58cf74864830c08b3b038c33/rev-0/w-635/f-jpg-webp/s-6ad1a4953cfacf1575bcf7b244d6de2defe07c59.webp"
    }];

    if (localStorage.getItem('data'))
        articles = JSON.parse(localStorage.getItem('data'));
    else localStorage.setItem('data', JSON.stringify(articles));

    for (article of articles) {
        article.createdAt = new Date(article.createdAt);
        article.author = article.author.trim();
    }
    articlesBin = JSON.parse(localStorage.getItem('bin')) || [];
    for (article of articles) {
        article.createdAt = new Date(article.createdAt);
    }

    var tags = new Set();

    for (var i = 0; i < articles.length; i++) {
        for (tag of articles[i].tags)
            tags.add(tag);
    }

    function getArticle(id) {
        id = id || null;
        if (typeof id === 'string') {
            for (var i = 0; i < articles.length; i++) {
                if (id === articles[i].id) {
                    return (articles[i]);
                }
            }
        }
    }

    function getSize() {
        return articles.length;
    }

    function removeTag(tag) {
        tag = tag || null;
        if (typeof tag === 'string') {
            tags.delete(tag);
            return true;
        }
        return false;
    }

    function removeArticle(id) {
        id = id || null;
        if (typeof id === 'string') {
            for (var i = 0; i < articles.length; i++) {
                if (id === articles[i].id) {
                    articlesBin.push(articles[i]);
                    articles.splice(i, 1);
                }
            }
            return true;
        }
        return false;
    }

    function pushToLocalStorage() {
        localStorage.setItem('data', JSON.stringify(articles));
        localStorage.setItem('bin', JSON.stringify(articlesBin));
    }

    window.addEventListener("beforeunload", function (e) {
        pushToLocalStorage();
    }, false);

    function addTag(tag) {
        tags.add(tag);
        return true;
    }

    function validateArticle(article) {
        if (article === null || article === undefined) {
            return false
        }
        if ((typeof article.id === 'string') && (typeof article.title === 'string' && article.title.length < 100 && article.title != '')
            && (typeof article.summary === 'string' && article.summary.length < 200 && article.summary != '')
            && (typeof article.author === 'string') && (typeof article.content === 'string' && article.content != '') && ((article.createdAt instanceof Date))) {
            return true;
        }
        return false;
    }

    function addArticle(article) {
        if (article === null || article === undefined) {
            return false
        }
        if (validateArticle(article) === true) {
            articles.push(article);
            return true;
        }
        return false;
    }

    function editArticle(id, article) {
        outdatedArticle = articles.find(function (a) {
            return a.id === id;
        });

        if (!outdatedArticle) {
            return false;
        }
        var newArticle = Object.assign(outdatedArticle, article);

        if (!validateArticle(newArticle)) {
            return false;
        }

        articles.map(function (a) {
            return a.id !== id ? a : newArticle;
        });

        return true;
    }

    function getArticles(skip, top, filterConfig) {
        skip = skip || 0;
        top = top || 10;

        var articlesSlice = articles.slice();

        articlesSlice.sort(function (a, b) {
            if (a.createdAt > b.createdAt) return -1;
            if (a.createdAt < b.createdAt) return 1;
            return 0;
        });

        if (filterConfig) {
            if (filterConfig.author) {
                articlesSlice = articlesSlice.filter(function (a) {
                    return filterConfig.author === a.author;
                });
            }

            if (filterConfig.createdAt) {
                filterConfig.createdAt = new Date(filterConfig.createdAt);
                articlesSlice = articlesSlice.filter(function (a) {
                    return filterConfig.createdAt <= a.createdAt;
                });
            }
            if (filterConfig.tags) {
                articlesSlice = articlesSlice.filter(function (a) {
                    var intersection = filterConfig.tags.filter(function (tag) {
                        return a.tags.indexOf(tag) != -1;
                    });
                    return intersection.length > 0;
                });
            }

        }
        return articlesSlice.slice(skip, Math.min(skip + top, articlesSlice.length));
    }

    return {
        getArticle: getArticle,
        getArticles: getArticles,
        addArticle: addArticle,
        editArticle: editArticle,
        validateArticle: validateArticle,
        removeTag: removeTag,
        removeArticle: removeArticle,
        addTag: addTag,
        getTags: tags,
        size: getSize
    };
})();

function buttonsEvent(event) {
    if (event.target.classList.contains('showFull1')) {

        var post = event.currentTarget.parentNode;
        var article = data.getArticle(post.id);

        document.querySelector('.mainPage').style.display = 'none';
        document.querySelector('.detailNews').style.display = '';
        document.querySelector('.authorization').style.display = 'none';
        document.querySelector('.detail').id = post.id;

        var detailed = document.querySelector('.detailNews');

        detailed.querySelector('.rectangleeeeeeeeee').innerHTML = article.title;
        detailed.querySelector('img').src = article.image;
        detailed.querySelector('.textDetailNews').innerHTML = article.content;
        detailed.querySelector('.tag1').innerHTML = 'Tags: ' + article.tags.join(' ');
        detailed.querySelector('.dateCreated1').innerHTML = article.createdAt.toDateString();
        detailed.querySelector('.author').innerHTML = 'Author:' + article.author;

    } else if (event.target.classList.contains('change')) {

        showAddForm();
        var form = document.forms.create;
        var post = event.currentTarget.parentNode;
        var article = data.getArticle(post.id);

        form.title.value = article.title;
        form.image.value = article.image;
        form.content.value = article.content;
        form.summary.value = article.summary;
        form.tag.value = article.tags.join(' ');

        document.querySelector('.btn-add').onclick = function () {
            if (editPost(post.id)) {
                showMainPage();
                refresh();
            }
        };

        document.querySelector('.btn-add').innerText = 'Edit Post';

    } else if (event.target.classList.contains('deleteNews')) {

        var post = event.currentTarget.parentNode;
        data.removeArticle(post.id);
        document.querySelector('.detailNews').style.display = 'none';
        document.querySelector('.mainPage').style.display = '';
        refresh();
    }
}

var domManagement = (function () {
    var template = document.getElementById('template');
    var content = document.querySelector('div.content');

    function makeHTML(article) {
        var copy = template.querySelector('.post').cloneNode(true);
        copy.id = article.id;
        copy.querySelector('.titleNews1').innerText = article.title;
        copy.querySelector('.textNews1').innerText = article.summary;
        copy.querySelector('.dateCreated').innerText = article.createdAt.getHours() + ':' + article.createdAt.getMinutes() + ' ' + article.createdAt.toDateString();
        copy.querySelector('.authorr').innerText = 'Author: ' + article.author;
        copy.querySelector('.tag2').innerText = 'Tags: ' + article.tags.join(' ');
        //copy.querySelector('img').src = article.image;
        copy.querySelector('.newbuttons').addEventListener('click', buttonsEvent);
        return copy;
    }

    function displayArticles(articlesList) {
        if (content) {
            content.innerHTML = '';
            for (article of articlesList) {
                content.appendChild(makeHTML(article));
            }
            return true;
        }
        return false;
    }

    return {
        displayArticles: displayArticles
    }
})();

var user = localStorage.getItem("username") || null;

function authorize(author) {
    user = author;
    var button = document.getElementById('authorize');
    if (button) {
        showMainPage();
        showButthons();
        button.innerText = 'Quit';
        document.querySelector('.hi').innerHTML = 'Hi, ' + author;
        localStorage.setItem('username', author);
        return true;
    }
    return false;
}


function deAuthorize() {
    user = null;
    var button = document.getElementById('authorize');
    if (button) {
        button.innerText = 'Authorization';
        document.querySelector('.hi').innerHTML = 'Hi, visitor';
        hideButtons();
        localStorage.removeItem('username');
        return true;
    }
    return false;
}

/*
 console.log(data.getArticles(1, 30));
 console.log(data.getArticle('15'));
 console.log(data.validateArticle(data.getArticle('15')));
 console.log(data.removeArticle('15'));
 console.log(data.addArticle({
 id: '111',
 title: 'Минское «Динамо» обыграло ярославский «Локомотив»',
 summary: 'Минское «Динамо» обыграло ярославский «Локомотив» в четвертом матче первого раунда плей-офф КХЛ — 4:2',
 createdAt: new Date('2017-02-27T23:00:00'),
 author: 'Иванов Иван',
 content: 'Гости создали больше опасных моментов и в два раза перебросали минчан, но «зубры» на этот раз очень эффективно использовали свои моменты.',
 tags: ['cool']
 }));

 console.log(data.editArticle('1', {title: 'newTitle', content: 'newContent'}));
 console.log(data.getArticles(0, 10));
 console.log(data.getArticles(0, 10, {author: 'Иванов Иван'}));
 console.log(data.getArticles(0, 10, {author: 'Иванов Иван', tags: ['cool']}))
 console.log(data.getArticles(0, 10, {tags: ['cool']}));
 console.log(data.getTags);
 console.log(data.removeTag('cool'));
 console.log(data.getTags);

 console.log(domManagement.displayArticles(data.getArticles(7, 3, null)));
 console.log(authorize('guzova'));
 console.log(deAuthorize());
 */

document.querySelector('.mainPage').style.display = '';
document.querySelector('.detailNews').style.display = 'none';
document.querySelector('.authorization').style.display = 'none';
document.querySelector('.addN').style.display = 'none';
document.querySelector('.er').style.display = 'none';

function showAddForm() {
    document.querySelector('.mainPage').style.display = 'none';
    document.querySelector('.detailNews').style.display = 'none';
    document.querySelector('.authorization').style.display = 'none';
    document.querySelector('.addN').style.display = '';
    document.querySelector('.er').style.display = 'none';

    document.querySelector('.btn-add').onclick = function () {
        if (addPost())
            showMainPage();
    }

    document.querySelector('.btn-add').innerText = 'Add Post';

    var form = document.forms.create;

    form.title.value = '';
    form.image.value = '';
    form.content.value = '';
    form.summary.value = '';
    form.tag.value = '';
}
function showMainPage() {
    document.querySelector('.mainPage').style.display = '';
    document.querySelector('.detailNews').style.display = 'none';
    document.querySelector('.authorization').style.display = 'none';
    document.querySelector('.addN').style.display = 'none';
    document.querySelector('.er').style.display = 'none';
}

function hideButtons() {
    var allChange = document.querySelectorAll('.change');
    for (var i = 0; i < allChange.length; i++)
        allChange[i].style.display = 'none';
    allChange = document.querySelectorAll('.deleteNews');
    for (var i = 0; i < allChange.length; i++)
        allChange[i].style.display = 'none';
    document.getElementById('add-post').style.display = 'none';

}

function showButthons() {
    var allChange = document.querySelectorAll('.change');
    for (var i = 0; i < allChange.length; i++)
        allChange[i].style.display = '';
    allChange = document.querySelectorAll('.deleteNews');
    for (var i = 0; i < allChange.length; i++)
        allChange[i].style.display = '';
    document.getElementById('add-post').style.display = '';
}

hideButtons();

function showAuthorizationForm(event) {
    document.querySelector('.mainPage').style.display = 'none';
    document.querySelector('.detailNews').style.display = 'none';
    document.querySelector('.authorization').style.display = '';
    document.querySelector('.addN').style.display = 'none';
    document.querySelector('.er').style.display = 'none';
    hideButtons();
}

function showError(event) {
    document.querySelector('.mainPage').style.display = 'none';
    document.querySelector('.detailNews').style.display = 'none';
    document.querySelector('.authorization').style.display = 'none';
    document.querySelector('.addN').style.display = 'none';
    document.querySelector('.er').style.display = '';
}

var currentFilter = {};
var prevArray = [];
var currentPage = 1;
function showMoreArticles() {
    var articles = data.getArticles(0, currentPage * 3, currentFilter);
    domManagement.displayArticles(articles);
    if (articles.length <= prevArray.length + 1) {
        document.querySelector('.bottom .nextPage').style.display = 'none';
    }
    prevArray = articles;
    currentPage++;
}

function refresh() {
    var articles = data.getArticles(0, currentPage * 3, currentFilter);
    domManagement.displayArticles(articles);
}

showMoreArticles();

if (user)
    authorize(user);
else
    deAuthorize();

function addPost() {
    var form = document.forms.create;
    var article = {
        id: '' + new Date().getTime(),
        title: form.title.value,
        summary: form.summary.value,
        createdAt: new Date(),
        author: document.querySelector('.hi').innerHTML.replace("Hi, ", ''),
        content: form.content.value,
        tags: form.tag.value.split(' '),
        image: form.image.value
    };
    if (data.addArticle(article)) {
        document.querySelector('.bottom .nextPage').style.display = '';
        return true;
    } else {
        showError();
    }
}

function editPost(id) {
    var form = document.forms.create;
    var article = {
        id: id,
        title: form.title.value,
        summary: form.summary.value,
        createdAt: new Date(),
        author: document.querySelector('.hi').innerHTML.replace("Hi, ", ''),
        content: form.content.value,
        tags: form.tag.value.split(' '),
        image: form.image.value
    };
    if (data.editArticle(id, article)) {
        document.querySelector('.bottom .nextPage').style.display = '';
        return true;
    } else {
        showError();
    }
}

function filter() {
    var date = document.querySelector('input.date').value;
    if (!date) date = undefined;
    var author = document.querySelector('input.nameAuthor').value;
    if (!author) author = undefined;
    var tags = document.querySelector('input.tag').value;
    if (!tags) tags = undefined;
    else tags = tags.split(' ');

    currentFilter = currentFilter || {};
    currentFilter.createdAt = date;
    currentFilter.author = author;
    currentFilter.tags = tags;

    currentPage = 1;
    showMoreArticles();
    document.querySelector('.bottom .nextPage').style.display = '';
}

document.querySelector('div.imgbtn').addEventListener('click', buttonsEvent);